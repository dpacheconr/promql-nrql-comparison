# Self-signed ClusterIssuer for demo purposes
---
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: selfsigned-issuer
spec:
  selfSigned: {}

---
# Sample certificate in monitoring namespace
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: demo-certificate-monitoring
  namespace: monitoring
spec:
  secretName: demo-tls-secret
  duration: 2160h  # 90 days
  renewBefore: 360h  # 15 days
  subject:
    organizations:
      - demo-org
  isCA: false
  privateKey:
    algorithm: RSA
    encoding: PKCS1
    size: 2048
  usages:
    - server auth
    - client auth
  dnsNames:
    - demo-app.monitoring.svc.cluster.local
    - demo-app.monitoring.svc
  issuerRef:
    name: selfsigned-issuer
    kind: ClusterIssuer
    group: cert-manager.io

---
# Sample certificate in demo-apps namespace
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: demo-app-certificate
  namespace: demo-apps
spec:
  secretName: demo-app-tls
  duration: 2160h  # 90 days
  renewBefore: 360h  # 15 days
  subject:
    organizations:
      - demo-org
  isCA: false
  privateKey:
    algorithm: RSA
    encoding: PKCS1
    size: 2048
  usages:
    - server auth
    - client auth
  dnsNames:
    - demo-app.demo-apps.svc.cluster.local
    - demo-app.demo-apps.svc
    - "*.demo-apps.svc.cluster.local"
  issuerRef:
    name: selfsigned-issuer
    kind: ClusterIssuer
    group: cert-manager.io

---
# Additional certificate with shorter renewal for testing
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: short-lived-certificate
  namespace: monitoring
spec:
  secretName: short-lived-tls
  duration: 24h  # 1 day
  renewBefore: 12h  # Renew after 12 hours
  subject:
    organizations:
      - demo-org
  isCA: false
  privateKey:
    algorithm: RSA
    encoding: PKCS1
    size: 2048
  usages:
    - server auth
  dnsNames:
    - short-lived.monitoring.svc.cluster.local
  issuerRef:
    name: selfsigned-issuer
    kind: ClusterIssuer
    group: cert-manager.io
